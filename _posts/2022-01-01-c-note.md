---
title: C 笔记
published: true
date: 2022-01-01 10:00:00 -0000
---
## C 笔记

这是 [《Linux C编程一站式学习》](https://book.douban.com/subject/6025290/)一书的读书笔记。
### 一

程序由一系列指令组成，指令包括：

- 输出
- 输入
- 基本运算
- 测试和分支
- 循环（递归）

编写程序就是这样一个过程：
> 把复杂的任务分解成子任务，把子任务再分解成更简单的任务，层层分解，直到最后简单得可以用以上指令来完成。


- - -

一种平台就是一种体系结构，就是一种指令集，就是一种机器语言。


- - -

计算机只能执行低级语言中的指令（汇编语言的指令要先转成机器码才能执行），高级语言要执行就必须先翻译成低级语言。翻译的方式有两种：1) 编译 2）解释。

1）编译执行的过程：

`source code` --> `complier` --> `executable` -> `loader` --> `输出结果`

把源代码全部翻译成机器指令，再加上一些描述信息，生成一个可执行文件，可执行文件可以被操作系统加载运行。

2） 解释执行的过程：

`source code` --> `interpeter` --> `结果`

解释器读取源代码解释执行，程序运行的结果出现在屏幕上。

虚拟机执行过程：

`source code` --> `complier` --> `byte code` --> `interpeter` --> `结果`

- - -

编程语言是一种形式语言，是专门设计用来表达计算过程的形式语言。

形式语言有严格的语法(Syntax)规则。语法规则是由符号（Token）和结构（structure）的规则所组成。

- 关于 Token 的规则称为词法（Lexical）规则。
- 关于结构的规则称为语法（Grammar）规则。

- - -

程序中的错误叫做 Bug。找到 Bug 并加以纠正的过程叫做调试（Debug）。

程序中的 Bug 分为：

- 编译时错误
- 运行时错误
- 逻辑错误
- 语义错误


### 二

C89 是最早的C语言规范，于 1989 年提出，1990 年首先由 ANSI 推出，后来被采纳位 ISO 国际标准(ISO/IEC9899:1990)，因而有时也称为 C90。

C89 是最广泛采用的C语言标准。

C99 标准在 1999 年推出。

- - -

注释不能嵌套使用，C语言的注释符为 /* 和 */。

单行注释符 // 在 C99 中标准化。

- - -

转义序列是在编译时处理的，而转换说明是在运行时处理的。

```
printf("%d\n", a);

\n --- 转义序列
%d --- 转换说明
```

- - -

变量的类型决定了它所占有的存储空间的大小。

在C语言中用声明（Declaration）来规定变量的名字和类型。

C 语言中的声明有三种：变量声明、函数声明和类型声明。声明分为“是定义（Definition）的声明” 和 “不是定义的声明”。分配存储空间的声明同时也是定义，不分配存储空间的声明不是定义。

- - - 

理解一个概念不是把定义背下来就行了，一定要理解它的外延和内涵，也就是什么情况属于这个概念，什么情况下不属于这个概念，什么情况虽然属于这个概念，但一般推荐的做法（Best practice）是要尽量避免这种情况，这才算是真正理解了。

- - -

定义一个变量，就是分配一块存储空间并给它命名；给一个变量赋值，就是把一个值保存到这块存储空间中。

变量一定要先声明后使用，这样编译才知道如何读写这块存储空间。

变量的定义和赋值可以一步完成，这称为变量的初始化。初始化是一种特殊的声明，而不是一种赋值语句。

变量的最小存储单元是字节（Byte）。

- - -

任何表达式都有值和类型两个基本属性。

等号（=）左边的表达式要求表示一个存储位置，而不是一个值。

表达式所表示的存储位置称为左值（lvalue），允许放在等号（=）左边，如变量就是可以做左值。


三

> 在运用逻辑推理时一定要注意，不要把必要条件当充要条件。

函数调用也是一种表达式。

log(1.0) 这个表达式是由操作数 log 和函数调用运算符 () 括号组成。

函数调用运算符是一种后缀运算符，() 括号及其中的参数是操作数 log 的后缀。

操作数 log 是一个函数名，它的类型是一种函数类型 (Function Type)。

- - -

C 标准主要由两部分组成，一部分描述 C 的语法，另一部分描述 C 标准库。

C 标准库定义来一组标准头文件，每个头文件中包含一些相关的函数、变量、类型声明和宏定义。要在一个平台上支持 C 语言，不仅要实现 C 编译器，还要实现 C 标准库，这样的实现才算符号 C 标准。

在 Linux 平台上最广泛使用的 C 函数库是 glibc, 其中包括 C 标准库的实现，也包括系统函数。

- - -

main 函数的返回值是返回给操作系统的，因为 main 函数是被操作系统调用的。

- - -

函数的定义：返回值类型  函数名(参数列表)  函数体。

非定义的函数声明：返回值类型  函数名(参数列表)。

- - -

形参相当于函数中定义的变量，调用函数传递参数的过程相当于定义形参变量并且用实参的值来初始化。

- - -

每次调用函数时，局部变量都表示不同的存储空间。

局部变量在每次函数调用时分配空间，在每次函数返回是释放存储空间。

全局变量定义在函数体之外，在程序运行时分配存储空间，在程序结束时释放存储空间。

局部变量会覆盖全局变量。

局部变量可以用类型相等的任意表达式来初始化，全局变量只能用常量表达式来初始化。

局部变量在定义时不初始化，则初始值是不确定的，所以局部变量在使用之前一定要先赋值。




