<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>计算机网络(Computer Networking)笔记(三) - CS里的X-29</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="计算机网络(Computer Networking: A Top-Down Approach)学习笔记第三部分，Web 页面请求的历程." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="计算机网络(Computer Networking)笔记(三)" />
<meta property="og:description" content="计算机网络(Computer Networking: A Top-Down Approach)学习笔记第三部分，Web 页面请求的历程." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://x-29.github.io/post/2022-05-computer-networking-notes-part3/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-05-25T09:58:10+08:00" />
<meta property="article:modified_time" content="2022-05-25T09:58:10+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="计算机网络(Computer Networking)笔记(三)"/>
<meta name="twitter:description" content="计算机网络(Computer Networking: A Top-Down Approach)学习笔记第三部分，Web 页面请求的历程."/>
<script src="https://x-29.github.io/js/feather.min.js"></script>
	
	
        <link href="https://x-29.github.io/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://x-29.github.io/css/main.40ca3a860425083862b7ebd55447caec5c4384573f0cb098b8d06a91e8dace2e.css" />
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://x-29.github.io/">CS里的X-29</a>
	</div>
	<nav>
		
		<a href="/">首页</a>
		
		<a href="/post">文章</a>
		
		<a href="/about">关于</a>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">计算机网络(Computer Networking)笔记(三)</h1>
			<div class="meta">Posted on May 25, 2022</div>
		</div>
		

		<section class="body">
			<p>这是<a href="https://book.douban.com/subject/26176870/">《计算机网络自顶向下方法 第6版》</a>一书的读书笔记的第三部分。</p>
<p><a href="../2022-05-computer-networking-notes-part1">第一部分</a></p>
<p><a href="../2022-05-computer-networking-notes-part2">第二部分</a></p>
<h2 id="web-页面请求的历程">Web 页面请求的历程</h2>
<p>用一台笔记本电脑浏览一个 Web 页面（例如，www.google.com），似乎很简单，但实际会是怎样的一个过程呢？</p>
<p>假设这台笔记本电脑通过网线连接到一台以太网交换机，交换机又与一台路由器相连。这台路由器与一个 ISP 连接，并且运行在着 DHCP 服务器。</p>
<ol>
<li><strong>获得 IP 地址</strong>。在这台笔记本电脑与网络连接时，它是没有 IP 地址的，也就不能访问 Web 页面。所以，首先它要运行 DHCP 协议从本地 DHCP 服务器获得一个 IP 地址以及一些其他信息。
<ul>
<li>操作系统生成一个 DHCP 请求报文，并将这个报文封装在目的端口为 <code>67</code>（DHCP 服务器）和源端口为 <code>68</code>（DHCP 客户）的一个 UDP 报文段中，该 UDP 报文段则被放置在一个具有广播 IP 目的地址（255.255.255.255）和源 IP 地址 0.0.0.0（因为这台电脑还没有 IP 地址）的 IP 数据报中。该 IP 数据报则被放置在以太网帧中，帧的目的 MAC 地址是广播 MAC 地址<code>FF:FF:FF:FF:FF:FF</code>。</li>
<li>包含 DHCP 请求的广播以太网帧是第一个由这台电脑发送到以太网交换机的帧。该交换机在所有的出端口广播入帧，包括连接到路由器的端口。</li>
<li>路由器接收到该广播以太网帧，从帧抽取出 IP 数据报，该数据报的广播 IP 目的地址指示了这个 IP 数据报应当由在该节点的高层协议处理，因此该数据报的载荷（ 一个 UDP 报文段）被分解（demuxed）向上到达 UDP，DHCP 请求报文从此 UDP 报文段中抽取出来。此时 DHCP 服务器有了 DHCP 请求报文。</li>
<li>DHCP 服务器生成 DHCP ACK，其中包含了分配给这台电脑的 IP 地址、默认网关路由器（第一跳路由器）的 IP 地址、DNS 服务器的名称 和 IP 地址。该 DHCP ACK 被放入一个 UDP 报文段中， UDP 报文段被放人一个 IP 数据报中， TP 数据报再被放入一个以太网帧中。该以太网帧的目的 MAC 地址，是这台笔记本电脑的 MAC 地址。</li>
<li>包含 DHCP ACK 的以太网帧由路由器发送给交换机。因为交换机是自学习的，并且先前从 Bob 便携机收到（包含 DHCP 请求的）以太网帧，所以该交换机 知道寻址到 00: 16: 03: 23: 68: 8A 的帧仅从通向 Bob 便携机的输出端口转发 。</li>
</ul>
</li>
</ol>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/networking">networking</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/x-29" title="GitHub"><i data-feather="github"></i></a><a class="soc" href="https://twiiter.com/x-29/" title="Twitter"><i data-feather="twitter"></i></a><a class="soc" href="https://gitlab.com/x-29/" title="GitLab"><i data-feather="gitlab"></i></a></div>
  <div class="footer-info">
    2022  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
